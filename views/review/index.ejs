
<h1>Reviews Details </h1>

<!-- <table>
    <tr>
       
        <th>Shop</th>
        <th>User name</th>
        <th>Rating</th>
        <th>Comment</th>
        <th>Created At</th>
        <th>Edit Review</th>
        <th>Delete Review</th>
        
    </tr> 
    <% reviews.forEach(function (review) { %> 
       <tr>
        <td>
           <a href="/review/detail?id=<%= review._id %>">
           <%= review.shop.name %>
         </a>
        </td>
        <td> <%= review.user.name %> </td>
        <td> <%= review.rating %> </td>
        <td> <%= review.comment%> </td>
        <td> <%= review.createdAt %> </td>
    
        
        <td><a href="/review/edit?id=<%= review._id%>">Edit review</a></td>
        <td><a href="/review/delete?id=<%= review._id%>">Delete review</a></td>
    </tr>
        
        <%});%>
</table> -->
<div class="row">
    <% reviews.forEach(function(review) {%>
       
        <div class="col-sm-4">
            <div class="card mx-auto mt-3">

                <div class="card-body">
                    <h5 class="card-title"><%=review.shop.name%></h5>
                    <p class="card-text"><%=review.comment%></p>
                   
                    <a href="/review/detail?id=<%=review._id%>" class="btn btn-primary">View review</a>
                
                </div>
                <div class="card-footer">
                    <small class="text-muted"><%=review.rating%> stars</small>
                    <% for(let i = 1; i <= 5; i++) {%>
                        <% if(i <= review.rating) { %>
                            <i class="bi bi-star-fill"></i>
                        <%} else{%>
                            <i class="bi bi-star"></i>
                        <%}%>
                    <%}%>
                </div>
            </div>
        </div>
    <%})%>
</div>

<br>
<!-- Add here condition for admin only -->
<div class=" table-responsive-sm">
    <table class="table table-bordered table-hover">
        <caption>List of Reviews (admin view Only)</caption>
        <thead>
        <tr class="table-dark">
            <th scope="col text-center">#</th>
            <th scope="col" class="text-center">Shop</th>
            <th scope="col" class="text-center">User name</th>
            <th scope="col" class="text-center">Rating</th>
            <th scope="col" class="text-center">Comment</th>
            <th scope="col" class="text-center">Created At</th>
            <th scope="col"  class="text-center">Edit Review</th>
            <th scope="col" class="text-center">Delete Review</th>
            
        </tr> 
    </thead>
    
        <% reviews.forEach(function (review,index) { %> 
        <tbody>
        <tr>
            <th scope="row"><%= index + 1 %></th>
            <td class="text-center">
               <a href="/review/detail?id=<%= review._id %>">
                <%= review.shop.name %>
            </td>
           
            
           
            <td class="text-center"> <%= review.user.name %> </td>
            <td class="text-center"> <%= review.rating %> </td>
            <td class="text-center"> <%= review.comment%> </td>
            <td class="text-center"> <%= review.createdAt %> </td>
        
            
            <td><a href="/review/edit?id=<%= review._id%>">Edit Review</a></td>
            <td><a href="/review/delete?id=<%= review._id%>">Delete Review</a></td>
        </tr>
    </tbody>
            <%});%>
        <tbody></tbody>    
    </table>
    
    </div>